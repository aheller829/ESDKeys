\name{KeyPlots}
\alias{KeyPlots}
%- Also NEED an '\alias' for EACH other topic documented here.
\title{Key Monitoring Plots to Ecological Sites
%%  ~~function to do ... ~~
}
\description{Pull and tabulate monitoring plot data from a TerrADat database, and assign plots to ecological sites based on proportion of ecological site criteria met. Monitoring plots can be subset by a user-defined polygon (e.g., MLRA or administrative boundary) or by geographic state. To download a geodatabase of MLRAs to use, visit https://www.nrcs.usda.gov/resources/data-and-reports/major-land-resource-area-mlra. There is an option to assign weight scalars in three classes to ecological site criteria, using weight = TRUE, with weight class one being least important and weight class three being most important. If weights = TRUE, ecological site criteria that aren't assigned a weight class will default to weight class one. KeyPlots() relies on the availability of an ecological site key generated by SiteKeyBuild().
%%  ~~ A concise (1-5 lines) description of what the function does. ~~
}
\usage{
KeyPlots(
  source.dsn = NULL
  mlra = NULL,
  sitekey = NULL,
  keypolyset = FALSE,
  shapefile = NULL,
  keystateset = TRUE,
  keystate = NULL,
  weights = FALSE
)
}
%- maybe also 'usage' for other objects documented here.
\arguments{
  \item{source.dsn}{Character string. The filepath and filename to a TerrADat geodatabase.
}
  \item{mlra}{Character string. Specifies the MLRA of the site key used. Use the MLRA symbol convention of "0MLRAX".
}
  \item{sitekey}{Character string. The name of the ecological site key in the environment created by KeyBuild(). If SiteKeyBuild() has just been named, this will be SiteKey.
}
  \item{keypolyset}{True/False. If FALSE, monitoring data will be subset by state only.
}
  \item{shapefile}{Character string. The filepath and filename to a shapefile, if using.
}
  \item{keystateset}{True/False. If TRUE, monitoring data will be subset by state. If FALSE, a polygon must be provided to subset monitoring data.
}
  \item{keystate}{Character string. If keystateset = TRUE, list state of interest using conventional two-letter state abbreviation.
}
  \item{weights}{True/False. If FALSE, all criteria are weighted equally. If TRUE, weight scalars will be used when considering proportion of criteria met and criteria must be assigned to weight classes one, two, and three.
}
}
\details{
%%  ~~ If necessary, more details than the description above ~~
}
\value{
Two outputs are produced: 1) a .csv of monitoring plots, the ecological site for which each plot matched the most criteria, and the proportion of criteria met; and 2) a dataframe of monitoring plots, the ecological site to which each plot matched the most criteria, and all criteria with plot values and relational statements.
%%  ~Describe the value returned
%%  If it is a LIST, use
%%  \item{comp1 }{Description of 'comp1'}
%%  \item{comp2 }{Description of 'comp2'}
%% ...
}
\references{
%% ~put references to the literature/web site here ~
}
\author{
%%  ~~who you are~~
}
\note{
%%  ~~further notes~~
}

%% ~Make other sections like Warning with \section{Warning }{....} ~

\seealso{
%% ~~objects to See Also as \code{\link{help}}, ~~~
}
\examples{
KeyPlots(
  source.dsn = "Path/To/TerrADat.gdb",
  mlra = "036X",
  sitekey = "SiteKey",
  keypolyset = TRUE,
  shapefile = "Path/To/Shapefile.shp",
  keystateset = TRUE,
  keystate = "NM"
  weights = FALSE
)
}
% Add one or more standard keywords, see file 'KEYWORDS' in the
% R documentation directory (show via RShowDoc("KEYWORDS")):
% \keyword{ ~kwd1 }
% \keyword{ ~kwd2 }
% Use only one keyword per line.
% For non-standard keywords, use \concept instead of \keyword:
% \concept{ ~cpt1 }
% \concept{ ~cpt2 }
% Use only one concept per line.
